---
title: Commit message å’Œ Change log
date: 2016-01-23 03:23:08
tags:
---
æ­¤å¤„ä¸å¾—ä¸èµå¹ä¸€ä¸‹é˜®è€å¸ˆçš„æ–‡ç¬”å’Œé«˜äº§ï¼Œè†œæ‹œä¸­...ğŸš¬  
æµè§ˆè¿‡ä¸å°‘å¼€æºé¡¹ç›®äº†ï¼Œä¹Ÿç®—æ˜¯githubçš„æ·±æ°´ç”¨æˆ·ï¼Œä½†è¿˜çœŸæ²¡æœ‰å¤ªæ³¨æ„äººå®¶çš„æäº¤æ³¨é‡Š(commit message)æœ‰ä»€ä¹ˆä¸ä¸€æ ·ï¼Œä»¥åŠæ¯æ¬¡å‘ç‰ˆæ—¶é•¿é•¿çš„chang logsã€‚æ„Ÿè°¢å°ä¼Ÿå“¥çš„æŒ‡å¯¼ï¼ŒæŠ€æœ¯è§†é‡ä¸Šçš„å·®è·è¿˜æ˜¯è›®å¤§çš„ï¼ŒåˆšæŠŠå¾—ğŸ’ª

å…ˆæ¥å¼ [angular-ui-bootstrap](https://github.com/angular-ui/bootstrap)åº“çš„commitæˆªå›¾  
![ui-bootstrap commit message](http://i.niupic.com/images/2016/01/23/TF2n76.png)

ä¸ç®¡å¤šå°‘äººæäº¤ä»£ç ï¼Œæ€»æ˜¯é‚£ä¹ˆæ¸…æ™°çˆ½å¿«ã€‚
<!-- more -->
## commit message æ ¼å¼

```bash
<type>(<scope>): <subject>
// ç©ºä¸€è¡Œ
<body>
// ç©ºä¸€è¡Œ
<footer>
```
å…¶ä¸­ï¼ŒHeader æ˜¯å¿…éœ€çš„ï¼ŒBody å’Œ Footer å¯ä»¥çœç•¥ã€‚ 
Headeréƒ¨åˆ†ï¼štypeï¼ˆå¿…éœ€ï¼‰ã€scopeï¼ˆå¯é€‰ï¼‰å’Œsubjectï¼ˆå¿…éœ€ï¼‰ 
ä¸ç®¡æ˜¯å“ªä¸€ä¸ªéƒ¨åˆ†ï¼Œä»»ä½•ä¸€è¡Œéƒ½ä¸å¾—è¶…è¿‡72ä¸ªå­—ç¬¦ï¼ˆæˆ–100ä¸ªå­—ç¬¦ï¼‰ã€‚è¿™æ˜¯ä¸ºäº†é¿å…è‡ªåŠ¨æ¢è¡Œå½±å“ç¾è§‚ã€‚

### type

```bash
feat            # æ–°åŠŸèƒ½ï¼ˆfeatureï¼‰
fix             # ä¿®è¡¥bug
docs            # æ–‡æ¡£ï¼ˆdocumentationï¼‰
style           # æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰
refactor        # é‡æ„ï¼ˆå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹bugçš„ä»£ç å˜åŠ¨ï¼‰
test            # å¢åŠ æµ‹è¯•
chore           # æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨
```
7ç§ç±»å‹åŸºæœ¬è¦†ç›–äº†æ‰€æœ‰éœ€æ±‚ï¼Œå¥½å¼€å¿ƒã€‚

å¦‚æœtypeä¸ºfeatå’Œfixï¼Œåˆ™è¯¥ commit å°†è‚¯å®šå‡ºç°åœ¨ Change log ä¹‹ä¸­ã€‚å…¶ä»–æƒ…å†µï¼ˆdocsã€choreã€styleã€refactorã€testï¼‰ç”±ä½ å†³å®šï¼Œè¦ä¸è¦æ”¾å…¥ Change logï¼Œå»ºè®®æ˜¯ä¸è¦ã€‚

### scope
scopeç”¨äºè¯´æ˜ commit å½±å“çš„èŒƒå›´ï¼Œæ¯”å¦‚æ•°æ®å±‚ã€æ§åˆ¶å±‚ã€è§†å›¾å±‚ç­‰ç­‰ï¼Œè§†é¡¹ç›®ä¸åŒè€Œä¸åŒã€‚

### subject
subjectæ˜¯ commit ç›®çš„çš„ç®€çŸ­æè¿°ï¼Œä¸è¶…è¿‡50ä¸ªå­—ç¬¦ã€‚

### body
Body éƒ¨åˆ†æ˜¯å¯¹æœ¬æ¬¡ commit çš„è¯¦ç»†æè¿°ï¼Œå¯ä»¥åˆ†æˆå¤šè¡Œ

* ä»¥åŠ¨è¯å¼€å¤´ï¼Œä½¿ç”¨ç¬¬ä¸€äººç§°ç°åœ¨æ—¶ï¼Œæ¯”å¦‚changeï¼Œè€Œä¸æ˜¯changedæˆ–changes
* ç¬¬ä¸€ä¸ªå­—æ¯å°å†™
* ç»“å°¾ä¸åŠ å¥å·ï¼ˆ.ï¼‰

### {% raw %}footer{% endraw %}

* ä¸å…¼å®¹å˜åŠ¨

```bash
BREAKING CHANGE:
```
* å…³é—­ Issue

```bash
Closes #234
```

## Commitizen

[Commitizen](https://github.com/commitizen/cz-cli)æ˜¯ä¸€ä¸ªæ’°å†™åˆæ ¼ Commit message çš„å·¥å…·ã€‚

```bash
npm install -g commitizen
cd {target}
commitizen init cz-conventional-changelog --save --save-exact
```

## validate-commit-msg

[validate-commit-msg](https://github.com/kentcdodds/validate-commit-msg) ç”¨äºæ£€æŸ¥ Node é¡¹ç›®çš„ Commit message æ˜¯å¦ç¬¦åˆæ ¼å¼ã€‚

## Change log
[conventional-changelog](https://github.com/ajoslin/conventional-changelog) å°±æ˜¯ç”Ÿæˆ Change log çš„å·¥å…·ï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤å³å¯ã€‚

```bash
npm install -g conventional-changelog
cd my-project
conventional-changelog -p angular -i CHANGELOG.md -w
```

## å‚è€ƒæ–‡çŒ®
* [Commit message å’Œ Change log ç¼–å†™æŒ‡å—](http://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html)